KNK C programming 2nd edition chap22 project 14, p.587.

Modify Programming Project 15 from Chapter 8 so that the program
prompts the user to enter the name of a file containing the message
to be encryted:

Enter name of file to be encryted: message.txt
Enter shift amount(1-25): 3

The program then writes the encrypted message to a file with the same
name but an added extension of .enc. In this example, the original file
name is message.txt, so that encypted message will be stored in a file
named message.txt.enc. There's no limit on the size of the file to be
encryted or on the length of each line in the file.
